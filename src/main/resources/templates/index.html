<!doctype html>
<html lang="es"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" name="viewport">
	<meta content="ie=edge" http-equiv="X-UA-Compatible">
	<link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/minty/bootstrap.min.css" integrity="sha384-4HfFay3AYJnEmbgRzxYWJk/Ka5jIimhB/Fssk7NGT9Tj3rkEChpSxLK0btOGzf2I" rel="stylesheet">
	<title th:text="${titulo}"></title>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" th:text="${titulo}"></a>
  <button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#navbarSupportedContent" data-toggle="collapse" type="button">
    <span class="navbar-toggler-icon"></span>
  </button>
	
</nav>

<div class="container mt-4">

	<div class="col-md-6 mx-auto">

		<div class="card">
			<div class="card-header">Lista Operaciones</div>
        <div class="card-body">
	        
	        <form id="formulario"
	              method="get"
	              th:action="@{/sumar}"
	              th:object="${operador}"
	        >
		        <div class="form-group">
              <input autofocus
                     class="form-control text-right"
                     name="numeroA"
                     placeholder="Numero"
                     th:field="*{numeroA}"
                     type="text"
              />
            </div>
	          
			<div class="form-group">
              <input autofocus
                     class="form-control text-right"
                     name="numeroB"
                     placeholder="Numero"
                     th:field="*{numeroB}"
                     type="text"
              />
			</div>
	          
            <div class="form-group">
	            <select class="custom-select custom-select-sm"
	                    id="operacion" name="operacion"
	                    required
	            >
		            <option value="0">Seleccione una Operaci√≥n</option>
		            <option value="1">Suma</option>
                    <option value="2">Resta</option>
		            <option value="3">Potencia</option>
	            </select>
            </div>
	          
	          <button class="btn btn-primary btn-block" type="submit">Realizar Operacion</button>
		        
		        <p class="text-muted mt-2" th:if="*{visible}">El resultado es: <span class="text-danger font-weight-bold" th:text="*{resultado}">11</span></p>
          </form>
        </div>
      </div>
		
	</div>
</div>

<script crossorigin="anonymous" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

<script>

	$ ( '#operacion' ).on ( 'change', function ( event ) {
		
		let indice = +event.target.value;
		let formulario = $ ( '#formulario' )[ 0 ];
		let url = window.location.host;
		switch ( indice ) {
			case 1:
				console.log ( indice );
				console.log ( formulario );
				formulario.action = `/sumar`;
				formulario.method = 'get';
				break;
			case 2:
				formulario.action = `/restar`;
				formulario.method = 'post';
				console.log ( formulario );
				break;
			case 3:
				formulario.action = `/potencias`;
				formulario.method = 'post';
				console.log ( formulario );
				break;
		}
	} );
	

	
</script>

</body>
</html>